(()=>{"use strict";const t=document.querySelector(".slider");const e=document.getElementById("state"),n=document.getElementById("city"),o=document.getElementById("search"),i=document.querySelector("button");function l(){"0px"===window.getComputedStyle(o).getPropertyValue("width")?(o.setAttribute("style","width: 75%; transition: width .5s ease;"),setTimeout((()=>{i.style.display="block"}),500)):(o.removeAttribute("style","width: 75%;"),o.style.transition="width .5s ease",setTimeout((()=>{i.style.display="none"}),100))}async function a(t,e){let n=t[0],o=t[1];console.log(t);const i=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${n},%20${o}&limit=1&appid=c4404ba7cc6d37e8768e9682ed0c7259`,{mode:"cors"});!async function(t,e){let n=t[0].lat,o=t[0].lon;const i=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${n}&lon=${o}&appid=c4404ba7cc6d37e8768e9682ed0c7259&units=${e}`,{mode:"cors"}),l=await i.json();var a,s;console.log(l),a=l,s=function(t){const e=t.list,n=t.list[0].dt_txt.slice(0,10);let o=Math.round(t.list[0].main.temp_min),i=Math.round(t.list[0].main.temp_max);return e.forEach((t=>{let e=t.dt_txt.slice(0,10),l=Math.round(t.main.temp_min),a=Math.round(t.main.temp_max);e===n&&(l<=o&&(o=l),a>=i&&(i=a))})),console.log(o),console.log(i),[o,i]}(l),document.getElementById("weather-condition").textContent=a.list[0].weather[0].description,document.getElementById("temperature").textContent=Math.round(a.list[0].main.temp),document.getElementById("low").textContent=s[0],document.getElementById("high").textContent=s[1]}(await i.json(),e)}let s="imperial",r=[];document.querySelector(".switch").addEventListener("click",(e=>{s=function(){getComputedStyle(document.body).getPropertyValue("--switch-rd");const e=document.querySelector(".switch"),n=document.getElementById("degrees"),o=document.getElementById("high-degrees"),i=document.getElementById("low-degrees");return"0px"===window.getComputedStyle(t).getPropertyValue("left")?(t.setAttribute("style","left: 50%; transition: all .5s ease;"),e.setAttribute("style","background: linear-gradient(225deg, #232e40, #1e2736); box-shadow:  -20px 20px 18px #1d2635, 20px -20px 18px #253043; transition: all .5s ease;"),n.textContent="°C",o.textContent="°C",i.textContent="°C","metric"):(t.setAttribute("style","left: 0; transition: all .5s ease;"),e.removeAttribute("style","background: linear-gradient(225deg, #232e40, #1e2736); box-shadow:  -20px 20px 18px #1d2635, 20px -20px 18px #253043;"),e.style.transition="all .5s ease",n.textContent="°F",o.textContent="°F",i.textContent="°F","imperial")}(),r.length>0&&a(r,s)})),document.querySelector("form").addEventListener("click",(t=>{if("search-icon"===t.target.id)l();else if("right-arrow"===t.target.id){t.preventDefault(),l();const o=document.getElementById("search").value;r=o.indexOf(",")>=0?o.split(", "):o.split(","),a(r,s),function(t){n.textContent=t[0],n.style.textTransform="capitalize",e.textContent=t[1],e.style.textTransform="capitalize"}(r)}}))})();